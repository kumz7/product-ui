<div class="container-fluid">
    <button [hidden]="isPrint" class="btn btn-light back" (click)="service.gotoMenu()" ><i class="fa fa-arrow-left" aria-hidden="true"></i></button>

<div class="card" >
        <div class="card-header" >
        <div class="row"  [hidden]="isPrint">
            <div class="col-3" style="text-align: right;" >
                <label for="usr">Search</label>
            </div>
            <div class="col-7">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Ticket #" [(ngModel)]="key">
                    <div class="input-group-append">
                      <button (click)="search()" class="btn btn-success" type="button"><i class="fa fa-search" aria-hidden="true" ></i></button>
                      <button (click)="cls()" class="btn btn-danger" type="button"><i class="fa fa-times" aria-hidden="true" ></i></button>
                    </div>
                  </div>
            </div>
        </div>
        <!--logo-->
        <div class="row" [hidden]="!isPrint" style="border: 2px solid grey;">
            <div class="col-7" style="margin-top:10px">
                <h4>Repair and Service Report</h4>
            </div>
            <div class="col-5">
                <div>  <img src="assets/logo.png" style="width: 241px;height: 54px;" class="rounded" alt="Cinque Terre" width="304" height="236"> </div>
            </div>
        </div>
        <!--logo-->
            <div class="row"  *ngIf="object.customer">
                <div class="col-2" style="text-align: right;">
                    <label for="usr">Customer Name</label>
                </div>
                <div  class="col-4">
                    <input type="text" disabled class="form-control" [(ngModel)]="object.customer.name">
                </div>
                <div class="col-2" style="text-align: right;">
                    <label for="usr">Ticket #</label>
                </div>
                <div  class="col-4">
                    <input type="text" disabled  class="form-control" disabled [(ngModel)]="object.ticket.ticket">
                </div>
              </div>
              <div class="row"  *ngIf="object.customer">
                <div class="col-2" style="text-align: right;">
                    <label for="usr">Contact No</label>
                </div>
                <div  class="col-4">
                    <input type="text" disabled  class="form-control" [(ngModel)]="object.customer.contact">
                </div>
                <div class="col-2" style="text-align: right;">
                    <label for="usr">Invoice #</label>
                </div>
                <div  class="col-4">
                    <input type="text" class="form-control" disabled [(ngModel)]="object.invoice.invoice_no">
                </div>

              </div>
              <div class="row" *ngIf="object.customer" >
                <div class="col-2" style="text-align: right;">
                    <label for="usr">Issue</label>
                </div>
                <div  class="col-4">
                    <input type="text" class="form-control" [(ngModel)]="object.issue.issue" disabled>
                </div>
                <div class="col-2" style="text-align: right;">
                    <label for="usr">Date</label>
                </div>
                <div  class="col-4">
                    <input type="date" id="date" class="form-control" [(ngModel)]="object.invoice.date">
                </div>
              </div>
        </div>
        <div class="card-body" *ngIf="object.customer">
            <div class="input-group" [hidden]="isPrint">
                <div class="row label-row" style="width:99%; margin-left:10px;" >
                    <label class="col-4">Description</label>
                    <label class="col-1">Qty</label>
                    <label class="col-2">Unit Price</label>
                    <label class="col-2">Discount</label>
                    <label class="col-2">Total</label>
                </div>
                <div class="row" style="width:99%; margin-left:10px;">
                    <input type="text" class="form-control col-4" (focusout)="calculate()" [(ngModel)]="description" placeholder="Description">
                    <input type="text" class="form-control col-1" (focusout)="calculate()" [(ngModel)]="qty" placeholder="Qty">
                    <input type="text" class="form-control col-2" (focusout)="calculate()" [(ngModel)]="unitprice" placeholder="Unit Price">
                    <input type="text" class="form-control col-2" (focusout)="calculate()" [(ngModel)]="discount" placeholder="Discount">
                    <input type="text" class="form-control col-2" [(ngModel)]="total" disabled placeholder="Total">
                    <button class="btn btn-success col-1" [attr.disabled]="description.length==0?'disabled':null" type="button" (click)="add()"><i class="fa fa-plus" aria-hidden="true"></i></button>
                </div>
              </div>
              <div class="row"  >
                <app-grid
                    [header]="tableHdr"
                    [invoiceData]="obj"
                    [isPrint]=true
                    [print]="isPrint"
                    >
                </app-grid>
            </div>
        </div>
        <div class="card-footer" *ngIf="object.customer">
            <div class="row">
            <div class="col-5" >
                <button [hidden]="isPrint"  type="button" (click)="save()" class="btn btn-success add-new"><i class="fa fa-plus" style="font-size: 46px;" aria-hidden="true"></i></button>
            </div>
            <div class="col-7">
            <div class="row">
                <div class="col-5" style="text-align: right;">
                    <label for="usr">Total Rate (%)</label>
                </div>
                <div  class="col-7">
                    <input type="text" class="form-control" disabled [(ngModel)]="object.invoice.sub_total">
                </div>
            </div>
            <div class="row" >
                <div class="col-5" style="text-align: right;">
                    <label for="usr">Advance</label>
                </div>
                <div  class="col-7" >
                    <input type="text" class="form-control" disabled [(ngModel)]="this.object.estimation.advance_amount">
                </div>
            </div>

            <div class="row">
                <div class="col-5" style="text-align: right;">
                    <label for="usr">Sub Total</label>
                </div>
                <div  class="col-7">
                    <input type="text" class="form-control" disabled [(ngModel)]="object.invoice.total_rate" >
                </div>
            </div>

            <div class="row" >
                <div class="col-5" style="text-align: right;">
                    <label for="usr" >Others</label>
                </div>
                <div  class="col-7">
                    <input type="text" (focusout)="calcTot()" class="form-control"  [(ngModel)]="object.invoice.others">
                </div>
            </div>
            <div class="row">
                <div class="col-5" style="text-align: right;">
                    <label for="usr">Total</label>
                </div>
                <div  class="col-7">
                    <input type="text" class="form-control" disabled [(ngModel)]="object.invoice.total">
                </div>
            </div>
        </div>

<!-- footer -->
<div class="col-12" [hidden]="!isPrint">    <div class="row" style="margin-top:70px;">
    <div class="col-2"></div>
    <div class="col-4">Customer Signature</div>
    <div class="col-2"></div>
    <div class="col-4">Authorized Signature</div>
</div>

    <h6 style="border-bottom:1px solid grey">Tearms & Conditions</h6>
    <ul style="list-style-type: decimal;">
        <li>Customer are advised to make telephone enquiry at respective collection center before collecting goods.</li>
        <li>Job sheet must be produced in order to collect the goods.</li>
        <li>Items to be collected within 2 months, falling which MSR Infotech deserves the right to dispose off, at its discretion to recover storage and repair
        costs.</li>
        <li>Warranty claim, if any, must be supported with relevant documents.</li>
        <li>Warranty for repaired items (Out of warranty items) is 1 month only.</li>
        <li>MSR Infotech will not be hold responsible for any damage or additional unidentified repairs or equipment left in its premises.</li>
        <li>MSR Infotech Will not be responsible for goods under service should there be any reported theft or fire within the premise.</li>
    </ul>
    <ul style="    border: 1px solid grey;">
        <li>
            Address : No.74, Bazzar Road, Sadasivam Nagar, Madipakkam, Chennai - 600 091
        </li>
        <li>
            Phone : 044 - 35353535 | +91-8903838147 | 9597526677
        </li>
    </ul>
</div>
<!--end -->

    </div>  
</div>
</div>    

</div>


<app-confirm-button [header]="header" [body]="body" [buttons]="buttons" 
(onSelection)="print($event)"
style="
    position: fixed;
    z-index: 99999;
" 
></app-confirm-button>